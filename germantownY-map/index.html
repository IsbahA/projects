<!DOCTYPE html>
<html>

<head>
    <title>Germantown YWCA and Related Buildings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- To avoid unwanted scaling -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        html,
        body,
        #map {
            height: 100%;
            width: 100%;
        }

        .descrip {
            width: 250px;
            font-size: 16px;
            font-family: "Open Sans", Helvetica, sans-serif;
            padding: 10px 14px;
            background-color: #FFFFFF;
            border-radius: 5px;
            border: 5px solid #D3D3D3;
            display: none;
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 1000; /* Ensure it's above the map */
        }

        .descrip.visible {
            display: block;
        }

        .trigger-zone {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 100px;
            z-index: 1000;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <div class="trigger-zone"></div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script>
        // Define tile layers
        var googleStreets = L.tileLayer('https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
            maxZoom: 20,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        });

        var googleSat = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            maxZoom: 20,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        });

        // Initialize the map
        var map = L.map("map", {
            center: [40.035019627871186, -75.17804787523784],
            zoom: 16,
            layers: [googleStreets] // Choose default layer here
        });

        // Add markers and polylines
        var theY = L.marker([40.03688676164644, -75.17651294384324])
            .bindPopup('<h1>The Germantown YWCA</h1><p>This is the location of the now abandoned YWCA building.</p>')
            .addTo(map);

        var vernonPark = L.marker([40.03542785276433, -75.17695293774428])
            .bindPopup('<h1>Vernon Park</h1>')
            .addTo(map);

        var CIP = L.marker([40.03695238316871, -75.17577428191765])
            .bindPopup('<h1>Center in the Park</h1><p>A senior center that sits behind the YWCA building.</p>')
            .addTo(map);

        var freeLibrary = L.marker([40.035737424335885, -75.17649129541964])
            .bindPopup('<h1>The Free Library</h1><p></p>')
            .addTo(map);

        var germantownTownHall = L.marker([40.03801908329352, -75.17783074384282])
            .bindPopup('<h1>The Germantown Town Hall</h1><p></p>')
            .addTo(map);

        var germantownBoundary = L.polyline([
            [40.0459162067792, -75.18222981253187],
            [40.04547445973449, -75.18203539554251],
            [40.04478053640238, -75.18168976740164],
            [40.043430819159575, -75.18103053250151],
            [40.03497442446138, -75.17372136089996],
            [40.02897699564336, -75.16330482224477],
            [40.02388794530976, -75.15978642735094],
            [40.022348325903785, -75.1616852435925],
            [40.01961113884869, -75.16336066968802],
            [40.01751540587145, -75.17201703778757],
            [40.035219178995106, -75.1929296105513],
            [40.0459162067792, -75.18222981253187]
        ]).addTo(map);

       /* var plateSevenA2 = L.polyline([
            [40.04292061229805, -75.1444113316615],
            [40.02958372094942, -75.1473275070273],
            [40.033372192275934, -75.17674113777126],
            [40.04802395597832, -75.17177575156772],
            [40.04292061229805, -75.1444113316615]
        ]).addTo(map);
        */

       /* var plateSevenA1 = L.polyline([
            [40.04675364524721, -75.17733123476171],
            [40.03274155332281, -75.18048812127061],
            [40.03621361652963, -75.2073908242032],
            [40.050865171507226, -75.2030395194172],
            [40.04675364524721, -75.17733123476171]
        ]).addTo(map);
        */

        // Description box control
        var descrip = L.control({ position: 'bottomleft' });

        descrip.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'descrip');
            div.innerHTML =
                '<h1>About this Map</h1><hr>' +
                '<p>This map displays the location of the Germantown YWCA building and other landmarks nearby.</p>' +
                '<h2>How to Use</h2>' +
                '<p>Click on a marker to learn more about a landmark.</p>'+
                '<p>Click anywhere to place a pin with an annotation</p>';
            return div;
        };

        descrip.addTo(map);
        // Add click event listener to the map
    map.on('click', function(e) {
      var annotation = prompt("Enter your annotation:");
      if (annotation) {
        var marker = L.marker(e.latlng).addTo(map);
        marker.bindPopup(annotation).openPopup();
      }
    });

        // Show description box on map load
        descrip.getContainer().classList.add('visible');

        // Function to hide the description box
        function hideDescriptionBox() {
            descrip.getContainer().classList.remove('visible');
        }

        // Function to show the description box
        function showDescriptionBox() {
            descrip.getContainer().classList.add('visible');
        }

        // Set a timeout to hide the description box after 7 seconds
        setTimeout(hideDescriptionBox, 7000); // Hide after 7 seconds

        // Add a trigger zone for showing the description box on mouseenter
        var triggerZone = document.querySelector('.trigger-zone');
        triggerZone.addEventListener('mouseenter', showDescriptionBox);

        // Layer control
        var baseLayers = {
            "Satellite": googleSat,
            "Streets": googleStreets
        };

        var overlayLayers = {
            "Germantown Boundary": germantownBoundary,
           // "Map 7A-1": plateSevenA1,
            //"Map 7A-2": plateSevenA2
        };

        L.control.layers(baseLayers, overlayLayers).addTo(map);
    </script>
</body>

</html>
